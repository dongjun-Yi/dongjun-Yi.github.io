---
title: "[Java] Generics"
author:
  name: dongjun-Yi
categories: [java]
tags: [java]
render_with_liquid: false
---
Genericsë€ í´ë˜ìŠ¤ë‚˜ ì»¬ë ‰ì…˜ ìë£Œêµ¬ì¡°ì— **íƒ€ì… ì²´í¬ë¥¼ í†µí•´ íƒ€ì… ì•ˆì •ì„±**ì„ ì œê³µí•´ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤. ì—¬ê¸°ì„œ **íƒ€ì… ì•ˆì •ì„±**ì´ë€ ì €ì¥ë˜ëŠ” ê³³ì— **ì˜ë„í•˜ì§€ ì•Šì€ ë°ì´í„° íƒ€ì… ì‚½ì…ì„ ë§‰ê³ ** **ì˜ëª»ëœ í˜•ë³€í™˜ì˜ ì˜¤ë¥˜ë¥¼ ë°©ì§€**í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.

## Genericsì˜ í•„ìš”ì„±

---

`list`ì— ë¬¸ìì—´ì„ ì €ì¥í•˜ê³  ë°ì´í„°ë¥¼ êº¼ë‚¼ë•Œ í˜•ë³€í™˜ì„ ëª…ì‹œí•´ ì¡°íšŒí•˜ëŠ” ì˜ˆë¥¼ ë“¤ì–´ë³´ì.

```java
List list = new LinkedList();
list.add("abc"); 
Integer i = (Integer) list.get(0);
```

ì´ ì½”ë“œëŠ” `String` íƒ€ì…ì˜ ë°ì´í„°ë¥¼ `List`ì—ì„œ ê°’ì„ êº¼ë‚¼ ë•Œ ê°œë°œìê°€ **ì˜ëª» í˜•ë³€í™˜**ì„ í•˜ì—¬ ì°¸ì¡°ë³€ìˆ˜ iì— `Integer` íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜í•˜ì˜€ë‹¤. ì´ëŠ” ì»´íŒŒì¼ì‹œì—ëŠ” ë¬¸ì œê°€ ì—†ì´ ì‹¤í–‰ë˜ì§€ë§Œ ì´ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ `ClassCastException`ì´ ë°œìƒí•˜ê²Œ ëœë‹¤.

```java
@Test
@DisplayName("Non Generics íƒ€ì…ìœ¼ë¡œ ì˜ëª» í˜•ë³€í™˜í•˜ì—¬ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ì‹œ ClassCastExceptionì´ ë°œìƒí•œë‹¤.")
void NonGenericGetDataTest() {
    List list = new LinkedList();

    list.add("abc");

    Assertions.assertThrows(ClassCastException.class, () -> {
        Integer i = (Integer) list.get(0);
    });
}
```

ì´ë¥¼ ë°©ì§€í•˜ê³ ì JDK1.5ë²„ì „ë¶€í„° Genericsê°€ ë‚˜ì˜¤ê²Œ ë˜ê³  í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œì— **Generics** íƒ€ì…ìœ¼ë¡œ ì„ ì–¸í•˜ê²Œ ë˜ë©´ ì˜ë„í•˜ì§€ ì•Šì€ ë°ì´í„° ì‚½ì…ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.

```java
List<String> list = new LinkedList();

list.add(1); // Required type: String, Provided: int

list.add("abc");
Integer i = (Integer) list.get(0); // Inconvertible types; cannot cast 'java.lang.String' to 'java.lang.Integer'
```

Genericsë¥¼ ì‚¬ìš©í•˜ì—¬ `list`ì— `String` íƒ€ì…ë§Œ ë‹¤ë£° ìˆ˜ ìˆê²Œ ì„ ì–¸í•˜ê²Œ ë˜ë©´ `list`ì— `int` íƒ€ì… ë°ì´í„°ë¥¼ ì‚½ì…í•˜ë©´ ì»´íŒŒì¼ëŸ¬ê°€ `Required type: String, Provided: int`ë¼ê³  ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.

ë˜í•œ `list`ì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ `Integer` íƒ€ì…ìœ¼ë¡œ ì˜ëª» í˜•ë³€í™˜ì‹œí‚¤ê²Œ ë˜ë©´ `Inconvertible types; cannot cast 'java.lang.String' to 'java.lang.Integer'`ë¼ê³  ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. 

ì´ë ‡ê²Œ Genericsë¥¼ ì‚¬ìš©í•˜ë©´ **ëŸ°íƒ€ì„ ë•Œ ë°œìƒí•  ì˜¤ë¥˜**ë¥¼ **ì»´íŒŒì¼ ì‹œì— ì˜¤ë¥˜ë¥¼ ë°œìƒ**ì‹œì¼œ ê°œë°œìê°€ ì˜¬ë°”ë¥´ê²Œ ì½”ë“œë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤.

ì‹¤ì œ bytecodeë¡œ í™•ì¸í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```java
@Test
@DisplayName("Genericsì„ ì‚¬ìš©í•œ ë°ì´í„° ì¡°íšŒ")
void GenericsTest() {
    List<String> list = new LinkedList();
    list.add("abc");

    String getString = list.get(0);

    Assertions.assertEquals(getString, "abc");
}
```

```java
 L2
    LINENUMBER 32 L2
    ALOAD 1
    ICONST_0
    INVOKEINTERFACE java/util/List.get (I)Ljava/lang/Object; (itf)
    CHECKCAST java/lang/String
    ASTORE 2
```

ì•„ë˜ ì½”ë“œëŠ” ìë°”ì˜ bytecode ì¼ë¶€ë¶„ì´ë©° `list.get(0)`ì„ ìˆ˜í–‰í•˜ë©´ `Object` íƒ€ì…ìœ¼ë¡œ ì¡°íšŒë˜ëŠ” ë°ì´í„°ë¥¼ `CHECKCAST` ëª…ë ¹ì–´ë¥¼ í†µí•´ `String` íƒ€ì…ìœ¼ë¡œ ì»´íŒŒì¼ëŸ¬ê°€ í˜•ë³€í™˜ì„ ìˆ˜í–‰í•´ì¤€ë‹¤. ì´ ë•Œë¬¸ì— **ê°œë°œìëŠ” ì½”ë“œë¡œ ì§ì ‘ í˜•ë³€í™˜í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•Šì•„ë„** ëë˜ ê²ƒì´ë‹¤. 

ì´ë ‡ê²Œ Genericsë¥¼ ì‚¬ìš©í•˜ë©´ **ì»´íŒŒì¼ëŸ¬**ê°€ ì»´íŒŒì¼ ì‹œ **ì§ì ‘ í˜•ë³€í™˜ì„ ìˆ˜í–‰**í•´ì£¼ê³  ë°ì´í„°ì— ëŒ€í•œ **íƒ€ì… ì²´í¬**ë¥¼ ìˆ˜í–‰í•´ì¤€ë‹¤.

## ì •ë¦¬

---

**Generics**ëŠ” ì»´íŒŒì¼ íƒ€ì„ ë•Œ íƒ€ì…ì²´í¬ë¥¼ í†µí•´ **íƒ€ì… ì•ˆì •ì„±ì„ ì œê³µ**í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤. **Generics**ì˜ í•µì‹¬ ê°œë…ì€ ëŸ°íƒ€ì„ ì‹œ ë°œìƒí•˜ëŠ” `ClassCastException`ì„ ì»´íŒŒì¼ íƒ€ì„ìœ¼ë¡œ ëŒì–´ì™€ ë¯¸ë¦¬ ì—ëŸ¬ë¥¼ ë°œìƒì‹œì¼œ ì½”ë“œë¥¼ ì˜¬ë°”ë¥´ê²Œ ìˆ˜ ì •í•  ìˆ˜ ìˆë„ë¡ **í”„ë¡œê·¸ë¨ ì˜ˆì™¸ ë°œìƒì„ ë°©ì§€**í•´ì£¼ëŠ” ê²ƒì´ë‹¤. ì´ ê°œë…ì€ **ì»´íŒŒì¼ëŸ¬ì˜ ì •ì  íƒ€ì… ë¶„ì„ì„ ì´ìš©í•œ** ê¸°ëŠ¥ì´ë©° **Generics**ëŠ” **ì»´íŒŒì¼ ì–¸ì–´ì˜ íŠ¹ì„±ì„ í™œìš©í•œ ê°œë…**ì„ì„ ì•Œê²Œ ë˜ì—ˆë‹¤.

<br>
<aside>
ğŸ“– references <br>
https://www.baeldung.com/java-generics

</aside>
